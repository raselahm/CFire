{"ast":null,"code":"var _jsxFileName = \"/home/sadequs/Code/black-hole-industries/src/Component/Profile.js\";\nimport React from \"react\";\nimport \"./Profile.css\";\nimport Navbar from \"./Navbar\";\nimport ProfileHeader from \"./ProfileHeader\";\nexport default class Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.submitHandler = event => {\n      //keep the form from actually submitting\n      event.preventDefault(); //make the api call to the user controller\n\n      fetch(\"http://stark.cse.buffalo.edu/cse410/blackhole/api/usercontroller.php\", {\n        method: \"post\",\n        body: JSON.stringify({\n          action: \"addOrEditUsers\",\n          username: this.state.username,\n          firstname: this.state.firstname,\n          lastname: this.state.lastname,\n          user_id: sessionStorage.getItem(\"user\"),\n          session_token: sessionStorage.getItem(\"token\"),\n          mode: \"ignorenull\"\n        })\n      }).then(res => res.json()).then(result => {\n        this.setState({\n          responseMessage: result.Status\n        });\n      }, error => {\n        alert(\"error!\");\n      }); //make the api call to the user prefs controller\n\n      fetch(\"http://stark.cse.buffalo.edu/cse410/blackhole/api/upcontroller.php\", {\n        method: \"post\",\n        body: JSON.stringify({\n          action: \"addOrEditUserPrefs\",\n          prefname: \"FavoriteColor\",\n          prefvalue: this.state.favoritecolor.pref_value,\n          prefid: this.state.favoritecolor.pref_id,\n          user_id: sessionStorage.getItem(\"user\"),\n          session_token: sessionStorage.getItem(\"token\")\n        })\n      }).then(res => res.json()).then(result => {\n        this.setState({\n          responseMessage: result.Status\n        });\n      }, error => {\n        alert(\"error!\");\n      });\n    };\n\n    this.state = {\n      username: \"\",\n      firstname: \"\",\n      lastname: \"\",\n      favoritecolor: \"\",\n      responseMessage: \"\"\n    };\n  }\n\n  fieldChangeHandler(field, e) {\n    console.log(\"field change\");\n    this.setState({\n      [field]: e.target.value\n    });\n  }\n\n  prefChangeHandler(field, e) {\n    console.log(\"pref field change \" + field);\n    console.log(this.state.favoirtecolor);\n    const prefs1 = JSON.parse(JSON.stringify(this.state.favoritecolor));\n    console.log(prefs1);\n    prefs1.pref_value = e.target.value;\n    console.log(prefs1);\n    this.setState({\n      [field]: prefs1\n    });\n  }\n\n  componentDidMount() {\n    //make the api call to the user API to get the user with all of their attached preferences\n    fetch(\"http://stark.cse.buffalo.edu/cse410/blackhole/api/usercontroller.php\", {\n      method: \"post\",\n      body: JSON.stringify({\n        action: \"getCompleteUsers\",\n        userid: this.props.userid\n      })\n    }).then(res => res.json()).then(result => {\n      if (result.users) {\n        console.log(result.users);\n        let favoritecolor = \"\"; // read the user preferences and convert to an associative array for reference\n\n        result.users[0][\"user_prefs\"].forEach(function (pref) {\n          if (pref.pref_name === \"FavoriteColor\") {\n            favoritecolor = pref;\n          }\n        });\n        console.log(favoritecolor);\n        this.setState({\n          // IMPORTANT!  You need to guard against any of these values being null.  If they are, it will\n          // try and make the form component uncontrolled, which plays havoc with react\n          username: result.users[0].username || \"\",\n          firstname: result.users[0].first_name || \"\",\n          lastname: result.users[0].last_name || \"\",\n          favoritecolor: favoritecolor\n        });\n      }\n    }, error => {\n      alert(\"error!\");\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"profile-page-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), React.createElement(ProfileHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"profile-page-skills\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"profile-page-skill-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"profile-page-skill-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"profile-page-skill-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"profile-page-skill-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"profile-page-skill-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"profile-page-skill-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"profile-page-uploads\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"profile-page-button-list'=\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"profile-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Website\"), React.createElement(\"button\", {\n      className: \"profile-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Resume\"), React.createElement(\"button\", {\n      className: \"profile-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"LinkedIn\"))), React.createElement(\"h1\", {\n      className: \"profile-page-skill-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"Programing Languages\"));\n  }\n\n}","map":{"version":3,"sources":["/home/sadequs/Code/black-hole-industries/src/Component/Profile.js"],"names":["React","Navbar","ProfileHeader","Profile","Component","constructor","props","submitHandler","event","preventDefault","fetch","method","body","JSON","stringify","action","username","state","firstname","lastname","user_id","sessionStorage","getItem","session_token","mode","then","res","json","result","setState","responseMessage","Status","error","alert","prefname","prefvalue","favoritecolor","pref_value","prefid","pref_id","fieldChangeHandler","field","e","console","log","target","value","prefChangeHandler","favoirtecolor","prefs1","parse","componentDidMount","userid","users","forEach","pref","pref_name","first_name","last_name","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./Profile.css\";\nimport Navbar from \"./Navbar\";\nimport ProfileHeader from \"./ProfileHeader\";\n\nexport default class Profile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      firstname: \"\",\n      lastname: \"\",\n      favoritecolor: \"\",\n      responseMessage: \"\"\n    };\n  }\n\n  fieldChangeHandler(field, e) {\n    console.log(\"field change\");\n    this.setState({\n      [field]: e.target.value\n    });\n  }\n\n  prefChangeHandler(field, e) {\n    console.log(\"pref field change \" + field);\n    console.log(this.state.favoirtecolor);\n    const prefs1 = JSON.parse(JSON.stringify(this.state.favoritecolor));\n    console.log(prefs1);\n    prefs1.pref_value = e.target.value;\n    console.log(prefs1);\n\n    this.setState({\n      [field]: prefs1\n    });\n  }\n\n  componentDidMount() {\n    //make the api call to the user API to get the user with all of their attached preferences\n    fetch(\"http://stark.cse.buffalo.edu/cse410/blackhole/api/usercontroller.php\", {\n      method: \"post\",\n      body: JSON.stringify({\n        action: \"getCompleteUsers\",\n        userid: this.props.userid\n      })\n    })\n      .then(res => res.json())\n      .then(\n        result => {\n          if (result.users) {\n            console.log(result.users);\n            let favoritecolor = \"\";\n\n            // read the user preferences and convert to an associative array for reference\n\n            result.users[0][\"user_prefs\"].forEach(function(pref) {\n              if (pref.pref_name === \"FavoriteColor\") {\n                favoritecolor = pref;\n              }\n            });\n\n            console.log(favoritecolor);\n\n            this.setState({\n              // IMPORTANT!  You need to guard against any of these values being null.  If they are, it will\n              // try and make the form component uncontrolled, which plays havoc with react\n              username: result.users[0].username || \"\",\n              firstname: result.users[0].first_name || \"\",\n              lastname: result.users[0].last_name || \"\",\n              favoritecolor: favoritecolor\n            });\n          }\n        },\n        error => {\n          alert(\"error!\");\n        }\n      );\n  }\n\n  submitHandler = event => {\n    //keep the form from actually submitting\n    event.preventDefault();\n\n    //make the api call to the user controller\n    fetch(\"http://stark.cse.buffalo.edu/cse410/blackhole/api/usercontroller.php\", {\n      method: \"post\",\n      body: JSON.stringify({\n        action: \"addOrEditUsers\",\n        username: this.state.username,\n        firstname: this.state.firstname,\n        lastname: this.state.lastname,\n        user_id: sessionStorage.getItem(\"user\"),\n        session_token: sessionStorage.getItem(\"token\"),\n        mode: \"ignorenull\"\n      })\n    })\n      .then(res => res.json())\n      .then(\n        result => {\n          this.setState({\n            responseMessage: result.Status\n          });\n        },\n        error => {\n          alert(\"error!\");\n        }\n      );\n\n    //make the api call to the user prefs controller\n    fetch(\"http://stark.cse.buffalo.edu/cse410/blackhole/api/upcontroller.php\", {\n      method: \"post\",\n      body: JSON.stringify({\n        action: \"addOrEditUserPrefs\",\n        prefname: \"FavoriteColor\",\n        prefvalue: this.state.favoritecolor.pref_value,\n        prefid: this.state.favoritecolor.pref_id,\n        user_id: sessionStorage.getItem(\"user\"),\n        session_token: sessionStorage.getItem(\"token\")\n      })\n    })\n      .then(res => res.json())\n      .then(\n        result => {\n          this.setState({\n            responseMessage: result.Status\n          });\n        },\n        error => {\n          alert(\"error!\");\n        }\n      );\n  };\n\n  render() {\n    return (\n      <div className=\"profile-page-container\">\n      <Navbar/>\n      <ProfileHeader/>\n        <div className=\"profile-page-skills\">\n          <span className=\"profile-page-skill-icon\"></span>\n          <span className=\"profile-page-skill-icon\"></span>\n          <span className=\"profile-page-skill-icon\"></span>\n          <span className=\"profile-page-skill-icon\"></span>\n          <span className=\"profile-page-skill-icon\"></span>\n          <span className=\"profile-page-skill-icon\"></span>\n        </div>\n        <div className=\"profile-page-uploads\">\n          <ul className=\"profile-page-button-list'=\">\n            <button className=\"profile-button\">Website</button>\n            <button className=\"profile-button\">Resume</button>\n            <button className=\"profile-button\">LinkedIn</button>\n          </ul>\n        </div>\n        <h1 className=\"profile-page-skill-label\">Programing Languages</h1>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}