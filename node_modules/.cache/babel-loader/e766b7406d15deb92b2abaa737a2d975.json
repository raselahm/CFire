{"ast":null,"code":"var _jsxFileName = \"/Users/waseehaque/Codes/CS Projects/black-hole-industries/src/Pages/Registration.js\";\nimport React, { Component } from 'react';\nimport './LoginPage.css'; // import Form from '../Component/registerForm'\n\nimport logo from '../Resources/CFire.jpg';\nimport Modal from '../Component/Modal';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\nexport default class Registration extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSubmit = fields => {\n      console.log(\"App Component recieved, \", fields);\n      toggleModal(this);\n    };\n\n    this.state = {\n      openModal: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, React.createElement(RegisterForm, {\n      onSubmit: fields => this.onSubmit(fields),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"divider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      className: \"logo\",\n      src: logo,\n      alt: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"greeting\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, \"Welcome to CFire!\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }), React.createElement(Modal, {\n      show: this.state.openModal,\n      onClose: e => toggleModal(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }));\n  }\n\n}\n\nfunction toggleModal(app) {\n  app.setState({\n    openModal: !app.state.openModal\n  });\n}\n\nclass RegisterForm extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      firstName: \"\",\n      lastName: \"\",\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n      usernameError: \"\",\n      emailError: \"\",\n      passwordError: \"\",\n      matchError: \"\",\n      modalOpen: \"\"\n    };\n\n    this.change = e => {\n      this.setState({\n        // change function used to change the state of the Component\n        [e.target.name]: e.target.value\n      }); // Study this syntax for JS/JSX\n    };\n\n    this.validate = () => {\n      let emailError = \"\";\n      let passwordError = \"\";\n      let usernameError = \"\";\n      let matchError = \"\";\n\n      if (!this.state.email.includes('@')) {\n        emailError = 'invalid email';\n      }\n\n      if (this.state.FNError === \"\") {\n        passwordError = 'cannot leave password blank';\n      }\n\n      if (this.state.password === \"\") {\n        usernameError = 'cannot leave username blank';\n      }\n\n      if (this.state.password !== this.state.confirmPassword) {\n        matchError = 'Passwords do not match';\n      }\n\n      if (emailError || passwordError || usernameError || matchError) {\n        this.setState({\n          emailError\n        }); // this.setState({passwordError});\n\n        this.setState({\n          usernameError\n        });\n        this.setState({\n          matchError\n        });\n        return false;\n      }\n\n      return true;\n    };\n\n    this.addInfo = e => {\n      fetch(\"http://stark.cse.buffalo.edu/cse410/blackhole/api/SocialAuth.php\", {\n        method: \"post\",\n        body: {\n          action: \"addOrEditUsers\"\n        }\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const isvalid = this.validate();\n      this.props.onSubmit(this.state);\n\n      if (isvalid) {\n        fetch(\"http://stark.cse.buffalo.edu/cse410/blackhole/api/SocialAuth.php\", {\n          method: \"post\",\n          body: JSON.stringify({\n            action: \"register\",\n            username: this.state.email,\n            password: this.state.password\n          })\n        }).then(res => res.json()).then(); // fetch(\"http://stark.cse.buffalo.edu/cse410/blackhole/api/SocialAuth.php\",{\n        //     method: \"post\",\n        //     body: JSON.stringify({\n        //         \"action\":\"setpassword\",\n        //         \"email_addr\":this.state.email,\n        //         \"token\":\"<otp from email in step 1\",\n        //         \"newpassword\":this.state.password,\n        //         \"confirmpassword\":this.state.confirmPassword\n        //       })\n        // })\n\n        this.setState({\n          firstName: \"\",\n          lastName: \"\",\n          username: \"\",\n          email: \"\",\n          password: \"\",\n          confirmPassword: \"\",\n          usernameError: \"\",\n          emailError: \"\",\n          passwordError: \"\",\n          matchError: \"\"\n        });\n      }\n\n      this.setState({\n        firstName: \"\",\n        lastName: \"\",\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        confirmPassword: \"\"\n      });\n    };\n  }\n\n  render() {\n    // Render function is what will get shown onto the screen \n    return React.createElement(\"form\", {\n      className: \"loginForm\",\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"loginInput\",\n      name: \"firstName\",\n      placeholder: \"First Name\",\n      value: this.state.firstName // onChange function allows you to change the state of the component\n      // Similar to lambda function in java for syntax\n      ,\n      onChange: e => this.change(e),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"loginInput\",\n      name: \"lastName\",\n      placeholder: \"Last Name\",\n      value: this.state.lastName // onChange function allows you to change the state of the component\n      // Similar to lambda function in java for syntax\n      ,\n      onChange: e => this.change(e),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"loginInput\",\n      name: \"username\",\n      placeholder: \"Username\",\n      value: this.state.username // onChange function allows you to change the state of the component\n      // Similar to lambda function in java for syntax\n      ,\n      onChange: e => this.change(e),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        fontSize: 8,\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, this.state.usernameError), React.createElement(\"input\", {\n      type: \"email\",\n      className: \"loginInput\",\n      name: \"email\",\n      placeholder: \"Email\",\n      value: this.state.email,\n      onChange: e => this.change(e),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        fontSize: 8,\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, this.state.emailError), React.createElement(\"input\", {\n      className: \"loginInput\",\n      name: \"password\",\n      type: \"password\",\n      placeholder: \"Password\",\n      value: this.state.password,\n      onChange: e => this.change(e),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        fontSize: 8,\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, this.state.passwordError), React.createElement(\"input\", {\n      className: \"loginInput\",\n      name: \"confirmPassword\",\n      type: \"password\",\n      placeholder: \"Confirm Password\",\n      value: this.state.confirmPassword,\n      onChange: e => this.change(e),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        fontSize: 8,\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, this.state.matchError), React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"buttons\",\n      value: \"Register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/waseehaque/Codes/CS Projects/black-hole-industries/src/Pages/Registration.js"],"names":["React","Component","logo","Modal","BrowserRouter","Router","Route","Link","Registration","constructor","props","onSubmit","fields","console","log","toggleModal","state","openModal","render","e","app","setState","RegisterForm","firstName","lastName","username","email","password","confirmPassword","usernameError","emailError","passwordError","matchError","modalOpen","change","target","name","value","validate","includes","FNError","addInfo","fetch","method","body","action","preventDefault","isvalid","JSON","stringify","then","res","json","fontSize","color"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport './LoginPage.css';\n// import Form from '../Component/registerForm'\nimport logo from '../Resources/CFire.jpg'\nimport Modal from '../Component/Modal'\nimport {\n  BrowserRouter as Router, \n  Route,\n  Link\n} from 'react-router-dom';\n\n\nexport default class Registration extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      openModal: false\n\n    };\n  }\n\n\n  onSubmit = fields => {\n    console.log(\"App Component recieved, \", fields);\n    toggleModal(this);\n  }\n  render(){\n    return (\n      <div className = \"App\">        \n                     \n\n        <RegisterForm onSubmit={fields => this.onSubmit(fields)}/>\n        <span className = \"divider\"/>      \n        <img className = \"logo\" src= {logo} alt=\"logo\" />\n        <span className = \"greeting\">Welcome to CFire!</span>\n        <div>\n        </div>\n        <Modal show={this.state.openModal} onClose={e => toggleModal(this)}/>\n\n      </div>\n    );\n  }\n\n  \n}\n\n\nfunction toggleModal(app) {\n  app.setState({\n    openModal: !app.state.openModal\n  });\n}\n\nclass RegisterForm extends React.Component{ //Create Component that will house your login form\n  state = {\n      firstName: \"\",\n      lastName: \"\",\n      username: \"\",\n      email: \"\", \n      password: \"\",\n      confirmPassword: \"\",\n      usernameError: \"\",\n      emailError: \"\", \n      passwordError: \"\",\n      matchError: \"\", \n      modalOpen: \"\"\n  };\n\n  change = (e) => {\n      this.setState({         // change function used to change the state of the Component\n          [e.target.name]:    \n          e.target.value});    // Study this syntax for JS/JSX\n  };\n\n\n  validate = () => {\n      let emailError = \"\"; \n      let passwordError = \"\";\n      let usernameError = \"\";\n      let matchError = \"\" ;\n\n\n      if(!this.state.email.includes('@')){\n          emailError = 'invalid email';\n      }\n      \n      \n      if(this.state.FNError === \"\"){\n          passwordError = 'cannot leave password blank';\n      }\n      \n\n      if(this.state.password === \"\"){\n          usernameError = 'cannot leave username blank';\n      }\n\n\n      if(this.state.password !== this.state.confirmPassword){\n          matchError = 'Passwords do not match'\n      }\n\n\n      if(emailError || passwordError || usernameError || matchError){\n          this.setState({emailError});\n          // this.setState({passwordError});\n          this.setState({usernameError});\n          this.setState({matchError});\n          return false;\n      }\n\n     return true;\n\n  }\n\n\n  addInfo = e =>{\n      fetch(\"http://stark.cse.buffalo.edu/cse410/blackhole/api/SocialAuth.php\", {\n      method: \"post\",\n          body: {\n              action: \"addOrEditUsers\"\n              \n          \n          }\n      });\n  }\n\n\n\n// Options. No route tag.... withRouter() function\n\n\n  onSubmit = e =>{\n      e.preventDefault();\n\n      const isvalid = this.validate();\n\n\n      this.props.onSubmit(this.state)\n\n      if(isvalid){\n\n          fetch(\"http://stark.cse.buffalo.edu/cse410/blackhole/api/SocialAuth.php\",{\n              method: \"post\",\n              body: JSON.stringify({\n                  action: \"register\",\n\n                  username: this.state.email,\n                  password: this.state.password\n\n              })\n          })\n          .then(res => res.json())\n          .then(\n\n          );\n\n\n          // fetch(\"http://stark.cse.buffalo.edu/cse410/blackhole/api/SocialAuth.php\",{\n          //     method: \"post\",\n          //     body: JSON.stringify({\n\n          //         \"action\":\"setpassword\",\n                \n          //         \"email_addr\":this.state.email,\n                \n          //         \"token\":\"<otp from email in step 1\",\n                \n          //         \"newpassword\":this.state.password,\n                \n          //         \"confirmpassword\":this.state.confirmPassword\n                \n          //       })\n          // })\n\n\n          this.setState({\n              firstName: \"\",\n              lastName: \"\",\n              username: \"\",\n              email: \"\", \n              password: \"\",\n              confirmPassword: \"\",\n              usernameError: \"\",\n              emailError: \"\", \n              passwordError: \"\",\n              matchError: \"\"\n          })\n\n      }\n\n      this.setState({\n          firstName: \"\",\n          lastName: \"\",\n          username: \"\",\n          email: \"\", \n          password: \"\",\n          confirmPassword: \"\",\n          }\n      );\n  }\n\n  render(){       // Render function is what will get shown onto the screen \n     return( \n\n     <form className = \"loginForm\" onSubmit = {this.onSubmit}>\n          { \n\n          <input \n          className = \"loginInput\"\n          name = \"firstName\"\n          placeholder = \"First Name\" \n          value = {this.state.firstName}\n          // onChange function allows you to change the state of the component\n          // Similar to lambda function in java for syntax\n          onChange = {e => this.change(e)}\n          required\n\n          /> }\n\n          <br/>\n          <input \n          className = \"loginInput\"\n          name = \"lastName\"\n          placeholder = \"Last Name\" \n          value = {this.state.lastName}\n          // onChange function allows you to change the state of the component\n          // Similar to lambda function in java for syntax\n          onChange = {e => this.change(e)}\n          required\n          /> \n          <br/>\n          <input type = \"text\"\n          className = \"loginInput\"\n          name = \"username\"\n          placeholder = \"Username\" \n          value = {this.state.username}\n          // onChange function allows you to change the state of the component\n          // Similar to lambda function in java for syntax\n          onChange = {e => this.change(e)}\n          required\n          /> \n          <br/>\n          <div style = {{fontSize:8, color: \"red\"}}>\n             {this.state.usernameError}\n          </div>\n          <input type = \"email\"\n          className = \"loginInput\"\n          name = \"email\"\n          placeholder = \"Email\" \n          value = {this.state.email}\n          onChange = {e => this.change(e)}\n          required\n          />\n          <br/>\n          <div style = {{fontSize:8, color: \"red\"}}>\n             {this.state.emailError}\n          </div>\n          <input \n          className = \"loginInput\"\n          name = \"password\" \n          type = \"password\"\n          placeholder = \"Password\"\n          value = {this.state.password}\n          onChange  = {e => this.change(e)}\n          required\n          />\n          <br/>\n          <div style = {{fontSize:8, color: \"red\"}}>\n             {this.state.passwordError}\n          </div>\n          <input \n          className = \"loginInput\"\n          name = \"confirmPassword\" \n          type = \"password\"\n          placeholder = \"Confirm Password\"\n          value = {this.state.confirmPassword}\n          onChange  = {e => this.change(e)}\n          required\n          />\n          <br/>\n          <div style = {{fontSize:8, color:  \"red\"}}>\n             {this.state.matchError} \n          </div>\n\n          <input type = \"submit\" \n\n          className = \"buttons\" \n          value = \"Register\"/>\n          \n         \n      </form>\n     );\n  }\n\n}\n\n"]},"metadata":{},"sourceType":"module"}