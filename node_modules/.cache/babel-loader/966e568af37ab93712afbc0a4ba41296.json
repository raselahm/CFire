{"ast":null,"code":"var _jsxFileName = \"/Users/waseehaque/Codes/CS Projects/black-hole-industries/src/Component/PostForm.js\";\nimport React from \"react\";\nimport \"../App.css\";\nimport PostingList from \"./PostingList.js\";\nexport default class PostForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.submitHandler = event => {\n      //keep the form from actually submitting\n      event.preventDefault(); //make the api call to the authentication page\n\n      fetch(\"http://stark.cse.buffalo.edu/hci/postcontroller.php\", {\n        method: \"post\",\n        body: JSON.stringify({\n          action: \"addOrEditPosts\",\n          user_id: sessionStorage.getItem(\"user\"),\n          session_token: sessionStorage.getItem(\"token\"),\n          posttext: this.state.post_text\n        })\n      }).then(res => res.json()).then(result => {\n        this.setState({\n          postmessage: result.Status\n        });\n        this.postListing.current.loadPosts();\n      }, error => {\n        alert(\"error!\");\n      });\n    };\n\n    this.myChangeHandler = event => {\n      this.setState({\n        post_text: event.target.value\n      });\n    };\n\n    this.state = {\n      post_text: \"\",\n      postmessage: \"\"\n    };\n    this.postListing = React.createRef();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.submitHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Post Something!\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(\"textarea\", {\n      rows: \"10\",\n      cols: \"70\",\n      onChange: this.myChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), this.state.postmessage), React.createElement(PostingList, {\n      ref: this.postListing,\n      type: \"postlist\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/waseehaque/Codes/CS Projects/black-hole-industries/src/Component/PostForm.js"],"names":["React","PostingList","PostForm","Component","constructor","props","submitHandler","event","preventDefault","fetch","method","body","JSON","stringify","action","user_id","sessionStorage","getItem","session_token","posttext","state","post_text","then","res","json","result","setState","postmessage","Status","postListing","current","loadPosts","error","alert","myChangeHandler","target","value","createRef","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,YAAP;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AAEA,eAAe,MAAMC,QAAN,SAAuBF,KAAK,CAACG,SAA7B,CAAuC;AACpDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SASnBC,aATmB,GASHC,KAAK,IAAI;AACvB;AACAA,MAAAA,KAAK,CAACC,cAAN,GAFuB,CAIvB;;AACAC,MAAAA,KAAK,CAAC,qDAAD,EAAwD;AAC3DC,QAAAA,MAAM,EAAE,MADmD;AAE3DC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,UAAAA,MAAM,EAAE,gBADW;AAEnBC,UAAAA,OAAO,EAAEC,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAFU;AAGnBC,UAAAA,aAAa,EAAEF,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAHI;AAInBE,UAAAA,QAAQ,EAAE,KAAKC,KAAL,CAAWC;AAJF,SAAf;AAFqD,OAAxD,CAAL,CASGC,IATH,CASQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EATf,EAUGF,IAVH,CAWIG,MAAM,IAAI;AACR,aAAKC,QAAL,CAAc;AACZC,UAAAA,WAAW,EAAEF,MAAM,CAACG;AADR,SAAd;AAGA,aAAKC,WAAL,CAAiBC,OAAjB,CAAyBC,SAAzB;AACD,OAhBL,EAiBIC,KAAK,IAAI;AACPC,QAAAA,KAAK,CAAC,QAAD,CAAL;AACD,OAnBL;AAqBD,KAnCkB;;AAAA,SAqCnBC,eArCmB,GAqCD3B,KAAK,IAAI;AACzB,WAAKmB,QAAL,CAAc;AACZL,QAAAA,SAAS,EAAEd,KAAK,CAAC4B,MAAN,CAAaC;AADZ,OAAd;AAGD,KAzCkB;;AAEjB,SAAKhB,KAAL,GAAa;AACXC,MAAAA,SAAS,EAAE,EADA;AAEXM,MAAAA,WAAW,EAAE;AAFF,KAAb;AAIA,SAAKE,WAAL,GAAmB7B,KAAK,CAACqC,SAAN,EAAnB;AACD;;AAoCDC,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,QAAQ,EAAE,KAAKhC,aAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE;AAAU,MAAA,IAAI,EAAC,IAAf;AAAoB,MAAA,IAAI,EAAC,IAAzB;AAA8B,MAAA,QAAQ,EAAE,KAAK4B,eAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CADF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,EAQE;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,EAUG,KAAKd,KAAL,CAAWO,WAVd,CADF,EAaE,oBAAC,WAAD;AAAa,MAAA,GAAG,EAAE,KAAKE,WAAvB;AAAoC,MAAA,IAAI,EAAC,UAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbF,CADF;AAiBD;;AA9DmD","sourcesContent":["import React from \"react\";\nimport \"../App.css\";\nimport PostingList from \"./PostingList.js\";\n\nexport default class PostForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      post_text: \"\",\n      postmessage: \"\"\n    };\n    this.postListing = React.createRef();\n  }\n\n  submitHandler = event => {\n    //keep the form from actually submitting\n    event.preventDefault();\n\n    //make the api call to the authentication page\n    fetch(\"http://stark.cse.buffalo.edu/hci/postcontroller.php\", {\n      method: \"post\",\n      body: JSON.stringify({\n        action: \"addOrEditPosts\",\n        user_id: sessionStorage.getItem(\"user\"),\n        session_token: sessionStorage.getItem(\"token\"),\n        posttext: this.state.post_text\n      })\n    })\n      .then(res => res.json())\n      .then(\n        result => {\n          this.setState({\n            postmessage: result.Status\n          });\n          this.postListing.current.loadPosts();\n        },\n        error => {\n          alert(\"error!\");\n        }\n      );\n  };\n\n  myChangeHandler = event => {\n    this.setState({\n      post_text: event.target.value\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.submitHandler}>\n          <label>\n            Post Something!\n            <br />\n            <textarea rows=\"10\" cols=\"70\" onChange={this.myChangeHandler} />\n          </label>\n          <br />\n\n          <input type=\"submit\" value=\"submit\" />\n          <br />\n          {this.state.postmessage}\n        </form>\n        <PostingList ref={this.postListing} type=\"postlist\" />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}